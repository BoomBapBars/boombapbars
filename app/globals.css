@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Base Theme Tweaks ---------- */
@layer base {
  :root {
    --bbb-accent-1: 99 102 241;  /* indigo-500 */
    --bbb-accent-2: 16 185 129;  /* emerald-500 */
    --bbb-accent-3: 96 165 250;  /* sky-400 */
    color-scheme: dark;
  }
  html, body {
    /* downgraded from bg-neutral-950 to bg-neutral-900 for older Tailwind */
    @apply bg-neutral-900 text-neutral-200 antialiased;
  }
}

/* ---------- Utilities ---------- */
@layer utilities {
  .text-balance { text-wrap: balance; }
}

/* ---------- Background: conic gradient (darker & masked) ---------- */
.bg-conic {
  background:
    conic-gradient(
      from 220deg at 50% 50%,
      rgba(var(--bbb-accent-1) / 0.06) 0deg,
      rgba(var(--bbb-accent-2) / 0.05) 90deg,
      transparent 160deg,
      rgba(var(--bbb-accent-3) / 0.06) 220deg,
      transparent 300deg
    );
  mask-image: radial-gradient(70% 60% at 50% 35%, black 18%, transparent 68%);
}

/* Fine film grain */
.grain {
  background-image:
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/><feColorMatrix type='saturate' values='0'/><feComponentTransfer><feFuncA type='table' tableValues='0 0 0 0 .35 .5 .35 0 0 0 0'/></feComponentTransfer></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.7'/></svg>");
  background-size: 250px 250px;
  mix-blend-mode: overlay;
  pointer-events: none;
}

/* ---------- Hover Shine Sweep ---------- */
.shine-sweep {
  position: absolute;
  inset: -20%;
  transform: translateX(-120%) rotate(12deg);
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0) 0%,
    rgba(255,255,255,0.08) 45%,
    rgba(255,255,255,0.18) 50%,
    rgba(255,255,255,0.08) 55%,
    rgba(255,255,255,0) 100%
  );
  animation: sweep 1.2s ease forwards;
  pointer-events: none;
}
@keyframes sweep { to { transform: translateX(120%) rotate(12deg); } }

/* ---------- Subtle Card Reflection ---------- */
.card-reflection {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to bottom,
    rgba(255,255,255,0.16),
    rgba(255,255,255,0.04) 28%,
    rgba(0,0,0,0) 55%
  );
  mix-blend-mode: soft-light;
  opacity: 0.45;
}

/* ---------- Shimmer (Skeleton) ---------- */
@keyframes shimmer {
  0%   { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.animate-shimmer {
  background-image: linear-gradient(
    90deg,
    rgba(255,255,255,0.05) 0%,
    rgba(255,255,255,0.10) 20%,
    rgba(255,255,255,0.05) 40%
  );
  background-size: 200% 100%;
  animation: shimmer 1.2s infinite linear;
}

/* ---------- Category Tabs Underline ---------- */
button .tab-underline {
  position: absolute;
  left: 18%; right: 18%; bottom: 2px;
  height: 2px; border-radius: 2px;
  background: linear-gradient(90deg, #34d399, #60a5fa);
  transform-origin: center; transform: scaleX(0);
  transition: transform 200ms ease; opacity: 0.9;
}
button[data-active="true"] .tab-underline { transform: scaleX(1); }

/* ---------- Hero underline animation ---------- */
.hero-underline {
  position: absolute; inset: 0;
  background: linear-gradient(90deg, rgba(52,211,153,0), rgba(52,211,153,1), rgba(96,165,250,1), rgba(96,165,250,0));
  transform-origin: left center;
  animation: underline-fill 1.2s ease forwards 0.15s;
}
@keyframes underline-fill { from { transform: scaleX(0); } to { transform: scaleX(1); } }

/* ---------- Framer Motion: reduce flicker on transforms ---------- */
* {
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
